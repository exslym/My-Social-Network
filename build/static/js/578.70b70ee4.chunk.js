"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[578],{2578:function(e,t,s){s.r(t),s.d(t,{default:function(){return J}});var a=s(1413),o=s(5671),n=s(3144),r=s(136),i=s(5716),u=s(2791),l=s(7781),p=s(8687),c=s(6070),f=s(6871),_=s(184),d="Profile_app_profile__eUKXI",m=s(8879),h={avatar:"ProfileInfo_avatar__Xr4LM",app_profile_content:"ProfileInfo_app_profile_content__M0sCU",info_username:"ProfileInfo_info_username__C2B1R",info_status:"ProfileInfo_info_status__XN1xZ",info_employmentStatus:"ProfileInfo_info_employmentStatus__xht7c",info_employment:"ProfileInfo_info_employment__OPTgW"},x=s(4240),j=s(885),v=function(e){var t=(0,u.useState)(!1),s=(0,j.Z)(t,2),a=s[0],o=s[1],n=(0,u.useState)(e.status),r=(0,j.Z)(n,2),i=r[0],l=r[1];(0,u.useEffect)((function(){l(e.status)}),[e.status]);return(0,_.jsx)("div",{className:h.app_profile_content,children:(0,_.jsxs)("div",{className:h.info,children:[(0,_.jsx)("div",{className:h.info_employmentStatus,children:e.profile.lookingForAJob?"\u0442\u0440\u0443\u0434\u043e\u0443\u0441\u0442\u0440\u043e\u0435\u043d":"\u0438\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443"}),a?(0,_.jsx)("input",{className:h.info_status,autoFocus:!0,onChange:function(e){l(e.currentTarget.value)},onBlur:function(){o(!1),e.updateUserStatus(i)},defaultValue:i}):(0,_.jsx)("div",{className:h.info_status,onDoubleClick:function(){o(!0)},children:e.status||"write something"})]})})},g=function(e){return e.profile?(0,_.jsxs)("div",{className:h.app_profile_content,children:[(0,_.jsx)("img",{className:h.avatar,src:e.profile.photos.large?e.profile.photos.large:x,alt:"avatar"}),(0,_.jsxs)("div",{className:h.info,children:[(0,_.jsx)("p",{className:h.info_username,children:e.profile.fullName}),(0,_.jsx)("p",{className:h.info_status,children:e.profile.aboutMe}),(0,_.jsx)("p",{className:h.info_employment,children:e.profile.lookingForAJobDescription}),(0,_.jsx)(v,{profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatus})]})]}):(0,_.jsx)(m.Z,{})},P=s(2982),N=s(8008);var y=s.p+"static/media/icon_liked.43de9c4003eb317a4ca47f5771d2d0e7.svg",S="Post_item__IVs4O",b="Post_post_wrap__zYVt2",U="Post_avatar__6eGNa",I="Post_likes__3e+38",Z=function(e){return(0,_.jsxs)("div",{className:S,children:[(0,_.jsxs)("div",{className:b,children:[(0,_.jsx)("img",{className:U,src:N,alt:"avatar"}),(0,_.jsx)("p",{children:e.message})]}),(0,_.jsxs)("div",{className:I,children:[(0,_.jsx)("img",{src:y,alt:"likes"}),(0,_.jsx)("span",{children:e.count})]})]})},k="MyPosts_button__1+FKV",w="MyPosts_title__VyQI1",C="MyPosts_posts__TqAU7",M="MyPosts_textarea__El2JB",T=s(6139),A=s(704),F=s(9528),V=s(5304),q=(0,V.D)(20),D=(0,A.Z)({form:"ProfileAddNewPostForm"})((function(e){return(0,_.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,_.jsx)(T.Z,{component:F.g,name:"newPostText",placeholder:"Enter your message",className:M,validate:[V.C,q],type:"textarea"}),(0,_.jsx)("button",{className:k,children:"Add post"})]})})),O=(0,u.memo)((function(e){var t=(0,P.Z)(e.posts).reverse().map((function(e){return(0,_.jsx)(Z,{message:e.post,count:e.likesCount},e.id)}));return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("p",{className:w,children:"My posts"}),(0,_.jsx)(D,{onSubmit:function(t){e.addPost(t.newPostText)}}),(0,_.jsx)("div",{className:C,children:t})]})})),z=(0,l.qC)((0,p.$j)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e((0,c.Wl)(t))}}})))(O),B=function(e){return(0,_.jsxs)("div",{className:d,children:[(0,_.jsx)(g,{profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatus}),(0,_.jsx)(z,{})]})},E=function(e){(0,r.Z)(s,e);var t=(0,i.Z)(s);function s(){return(0,o.Z)(this,s),t.apply(this,arguments)}return(0,n.Z)(s,[{key:"componentDidMount",value:function(){var e=this.props.router.params.userId;e||(e=this.props.authorizedUserId)||this.props.router.navigate("/login"),this.props.getUserProfile(e),this.props.getUserStatus(e)}},{key:"render",value:function(){return(0,_.jsx)(B,(0,a.Z)({},this.props))}}]),s}(u.Component),J=(0,l.qC)((0,p.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:c.et,getUserStatus:c.Tq,updateUserStatus:c.OL}),(function(e){return function(t){var s=(0,f.bS)("/profile/:userId/"),o=(0,f.TH)(),n=(0,f.s0)(),r=(0,f.UO)();return(0,_.jsx)(e,(0,a.Z)((0,a.Z)({},t),{},{router:{match:s,location:o,navigate:n,params:r}}))}}))(E)},4240:function(e,t,s){e.exports=s.p+"static/media/avatar-wh.79bfa9ed144206f9d572.png"},8008:function(e,t,s){e.exports=s.p+"static/media/avatar_own.aa75b7dbc1822fa96e84.jpg"}}]);
//# sourceMappingURL=578.70b70ee4.chunk.js.map