"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[925],{925:function(e,t,n){n.r(t),n.d(t,{useAppDispatch:function(){return u}});var r=n(885),i=n(2791),s=n(8687),o=n(8047),a=n(184),u=function(){return(0,s.I0)()},c=function(){var e=u(),t=(0,s.v9)((function(e){return e.chat.status}));return(0,i.useEffect)((function(){return e((0,o.WE)()),function(){e((0,o.R7)())}}),[e]),(0,a.jsxs)("div",{style:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:["error"===t&&(0,a.jsx)("div",{children:"Some error occured. Please refresh page"}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l,{}),(0,a.jsx)(h,{})]})]})},l=function(){var e=(0,s.v9)((function(e){return e.chat.messages})),t=(0,i.useRef)(null),n=(0,i.useState)(!0),o=(0,r.Z)(n,2),u=o[0],c=o[1];return(0,i.useEffect)((function(){var e;u&&(null===(e=t.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[u,e]),(0,a.jsxs)("div",{style:{maxHeight:"440px",height:"100%",overflowY:"auto",marginBottom:"10px"},onScroll:function(e){var t=null===e||void 0===e?void 0:e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<200?!u&&c(!0):u&&c(!1)},children:[e.map((function(e,t){return(0,a.jsx)(d,{message:e},e.id)})),(0,a.jsx)("div",{ref:t})]})},d=i.memo((function(e){var t=e.message,r=n(8308);return(0,a.jsxs)("div",{children:[t.photo?(0,a.jsx)("img",{src:t.photo,alt:"",style:{width:"30px",borderRadius:"50%",marginRight:"10px"}}):(0,a.jsx)("img",{src:r,alt:"",style:{width:"30px",borderRadius:"50%",marginRight:"10px"}}),(0,a.jsx)("span",{style:{fontSize:"1.2em"},children:(0,a.jsx)("strong",{children:t.userName})}),(0,a.jsx)("p",{style:{margin:"5px 0 0 40px",fontSize:"1.2em"},children:t.message}),(0,a.jsx)("div",{style:{margin:"1em 0",width:"calc(100% - 10px)",height:"2px",background:"rgba(0, 0, 0, 0.1)"}})]})})),h=function(){var e=(0,i.useState)(""),t=(0,r.Z)(e,2),n=t[0],c=t[1],l=u(),d=(0,s.v9)((function(e){return e.chat.status}));return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{children:[(0,a.jsx)("textarea",{style:{width:"50%",borderRadius:"5px",overflowY:"auto",resize:"none",border:"1px solid rgba(0, 0, 0, 0.25)",fontSize:"1.2em"},onChange:function(e){c(e.currentTarget.value)},value:n}),(0,a.jsx)("button",{disabled:"ready"!==d,onClick:function(){n&&(l((0,o.bG)(n)),c(""))},style:{margin:"5px 0 0",fontSize:"1.2em"},children:"Send"})]})})};t.default=function(){return(0,a.jsx)("div",{style:{padding:"10px",height:"100%",background:"white"},children:(0,a.jsx)(c,{})})}}}]);
//# sourceMappingURL=925.b6cdee3e.chunk.js.map